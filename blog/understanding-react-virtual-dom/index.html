<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f297b2bf1f46f0e91b81.css" id="gatsby-global-css">code[class*=language-],pre[class*=language-]{color:#e3eaf2;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#3c526d}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#111b27}:not(pre)>code[class*=language-]{padding:.1em .3em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8da1b9}.token.punctuation{color:#e3eaf2}.token.delimiter.important,.token.selector .parent,.token.tag,.token.tag .token.punctuation{color:#6cc}.token.attr-name,.token.boolean,.token.boolean.important,.token.constant,.token.number,.token.selector .token.attribute{color:#e6d37a}.token.class-name,.token.key,.token.parameter,.token.property,.token.property-access,.token.variable{color:#6cb8e6}.token.attr-value,.token.color,.token.inserted,.token.selector .token.value,.token.string,.token.string .token.url-link{color:#91d076}.token.builtin,.token.keyword-array,.token.package,.token.regex{color:#f4adf4}.token.function,.token.selector .token.class,.token.selector .token.id{color:#c699e3}.token.atrule .token.rule,.token.combinator,.token.keyword,.token.operator,.token.pseudo-class,.token.pseudo-element,.token.selector,.token.unit{color:#e9ae7e}.token.deleted,.token.important{color:#cd6660}.token.keyword-this,.token.this{color:#6cb8e6}.token.bold,.token.important,.token.keyword-this,.token.this{font-weight:700}.token.delimiter.important{font-weight:inherit}.token.italic{font-style:italic}.token.entity{cursor:help}.language-markdown .token.title,.language-markdown .token.title .token.punctuation{color:#6cb8e6;font-weight:700}.language-markdown .token.blockquote.punctuation{color:#f4adf4}.language-markdown .token.code{color:#6cc}.language-markdown .token.hr.punctuation{color:#6cb8e6}.language-markdown .token.url .token.content{color:#91d076}.language-markdown .token.url-link{color:#e6d37a}.language-markdown .token.list.punctuation{color:#f4adf4}.language-json .token.operator,.language-markdown .token.table-header{color:#e3eaf2}.language-scss .token.variable{color:#6cc}.token.cr:before,.token.lf:before,.token.space:before,.token.tab:not(:empty):before{color:#8da1b9}div.code-toolbar>.toolbar a,div.code-toolbar>.toolbar button{color:#111b27;background:#6cb8e6}div.code-toolbar>.toolbar a:focus,div.code-toolbar>.toolbar a:hover,div.code-toolbar>.toolbar button:focus,div.code-toolbar>.toolbar button:hover{color:#111b27;background:rgba(108,184,230,.8549019607843137);text-decoration:none}div.code-toolbar>.toolbar span,div.code-toolbar>.toolbar span:focus,div.code-toolbar>.toolbar span:hover{color:#111b27;background:#8da1b9}.line-highlight{background:rgba(60,82,109,.37254901960784315);background:linear-gradient(90deg,rgba(60,82,109,.37254901960784315) 70%,rgba(60,82,109,.3333333333333333))}.line-highlight:before,.line-highlight[data-end]:after{background-color:#8da1b9;color:#111b27;box-shadow:0 1px #3c526d}pre[id].linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:rgba(141,161,185,.09411764705882353)}.line-numbers .line-numbers-rows{border-right:1px solid #0b121b;background:rgba(11,18,27,.47843137254901963)}.line-numbers-rows>span:before{color:rgba(141,161,185,.8549019607843137)}.rainbow-braces .token.punctuation.brace-level-1,.rainbow-braces .token.punctuation.brace-level-5,.rainbow-braces .token.punctuation.brace-level-9{color:#e6d37a}.rainbow-braces .token.punctuation.brace-level-2,.rainbow-braces .token.punctuation.brace-level-6,.rainbow-braces .token.punctuation.brace-level-10{color:#f4adf4}.rainbow-braces .token.punctuation.brace-level-3,.rainbow-braces .token.punctuation.brace-level-7,.rainbow-braces .token.punctuation.brace-level-11{color:#6cb8e6}.rainbow-braces .token.punctuation.brace-level-4,.rainbow-braces .token.punctuation.brace-level-8,.rainbow-braces .token.punctuation.brace-level-12{color:#c699e3}pre.diff-highlight>code .token.deleted:not(.prefix),pre>code.diff-highlight .token.deleted:not(.prefix){background-color:rgba(205,102,96,.12156862745098039)}pre.diff-highlight>code .token.inserted:not(.prefix),pre>code.diff-highlight .token.inserted:not(.prefix){background-color:rgba(145,208,118,.12156862745098039)}.command-line-prompt{border-right:1px solid #0b121b}.command-line-prompt>span:before{color:rgba(141,161,185,.8549019607843137)}</style><meta name="generator" content="Gatsby 3.0.1"/><style data-styled="" data-styled-version="5.2.1">.kBFXRI{margin-left:auto;margin-right:auto;max-width:1300px;padding-left:var(--size-700);padding-right:var(--size-700);height:100%;}/*!sc*/
@media screen and (max-width:1000px){.kBFXRI{padding-left:var(--size-400);padding-right:var(--size-400);}}/*!sc*/
data-styled.g1[id="container__Container-sc-19ytxnc-0"]{content:"kBFXRI,"}/*!sc*/
.iwJsyB{padding-top:var(--size-300);}/*!sc*/
data-styled.g2[id="Header__StyledHeader-sc-9tba1i-0"]{content:"iwJsyB,"}/*!sc*/
.dofBvM{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
data-styled.g3[id="Header__HeaderWrapper-sc-9tba1i-1"]{content:"dofBvM,"}/*!sc*/
.ewCaOQ a{text-transform:uppercase;-webkit-text-decoration:none;text-decoration:none;font-size:var(--size-400);color:inherit;}/*!sc*/
data-styled.g4[id="Header__HeaderTitle-sc-9tba1i-2"]{content:"ewCaOQ,"}/*!sc*/
.hxQiKU{position:static;padding:0;background:transparent;-webkit-backdrop-filter:unset;backdrop-filter:unset;}/*!sc*/
data-styled.g5[id="Header__StyledNav-sc-9tba1i-3"]{content:"hxQiKU,"}/*!sc*/
.eCeZTN{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;padding:0;list-style-type:none;}/*!sc*/
data-styled.g6[id="Header__StyledNavList-sc-9tba1i-4"]{content:"eCeZTN,"}/*!sc*/
.fVeppt:not(:last-of-type){margin-right:2rem;}/*!sc*/
@media screen and (max-width:700px){.fVeppt:not(:last-of-type){margin-right:1rem;}}/*!sc*/
.fVeppt a{color:inherit;text-transform:uppercase;font-size:var(--size-300);-webkit-text-decoration:none;text-decoration:none;-webkit-letter-spacing:0.1rem;-moz-letter-spacing:0.1rem;-ms-letter-spacing:0.1rem;letter-spacing:0.1rem;}/*!sc*/
@media screen and (max-width:700px){.fVeppt a{font-size:0.7rem;}}/*!sc*/
data-styled.g7[id="Header__StyledNavListItem-sc-9tba1i-5"]{content:"fVeppt,"}/*!sc*/
.foKMSa{padding:0;list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
data-styled.g8[id="SocialLinks__SocialLinkList-sc-1vpm7f4-0"]{content:"foKMSa,"}/*!sc*/
.dcrNki{padding-top:var(--size-300);padding-bottom:var(--size-300);}/*!sc*/
data-styled.g10[id="footer__StyledFooter-lstpbi-0"]{content:"dcrNki,"}/*!sc*/
.eoQuMl{font-size:var(--size-300);}/*!sc*/
.eoQuMl a{color:inherit;}/*!sc*/
data-styled.g11[id="footer__FooterAttribution-lstpbi-1"]{content:"eoQuMl,"}/*!sc*/
.eQMkXo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
data-styled.g12[id="footer__FooterWrapper-lstpbi-2"]{content:"eQMkXo,"}/*!sc*/
*,*::before,*::after{box-sizing:border-box;}/*!sc*/
body,h1,h2,h3,h4,p,figure,blockquote,dl,dd{margin:0;}/*!sc*/
ul[role='list'],ol[role='list']{list-style:none;}/*!sc*/
html:focus-within{-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;}/*!sc*/
html{height:-webkit-fill-available;}/*!sc*/
body{min-height:100vh;min-height:-webkit-fill-available;text-rendering:optimizeSpeed;line-height:1.5;}/*!sc*/
a:not([class]){-webkit-text-decoration-skip-ink:auto;text-decoration-skip-ink:auto;}/*!sc*/
img,picture{max-width:100%;display:block;}/*!sc*/
input,button,textarea,select{font:inherit;}/*!sc*/
@media (prefers-reduced-motion:reduce){html:focus-within{-webkit-scroll-behavior:auto;-moz-scroll-behavior:auto;-ms-scroll-behavior:auto;scroll-behavior:auto;}*,*::before,*::after{-webkit-animation-duration:0.01ms !important;animation-duration:0.01ms !important;-webkit-animation-iteration-count:1 !important;animation-iteration-count:1 !important;-webkit-transition-duration:0.01ms !important;transition-duration:0.01ms !important;-webkit-scroll-behavior:auto !important;-moz-scroll-behavior:auto !important;-ms-scroll-behavior:auto !important;scroll-behavior:auto !important;}}/*!sc*/
html{width:100vw;overflow-x:hidden;}/*!sc*/
body::-webkit-scrollbar{width:10px;}/*!sc*/
body::-webkit-scrollbar-thumb{background-color:rgba(55,41,44,.4);}/*!sc*/
body::-webkit-scrollbar-track{background:transparent;}/*!sc*/
:root{-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;--size-300:0.75rem;--size-400:1rem;--size-500:1.33rem;--size-600:1.77rem;--size-700:2.36rem;--size-800:3.15rem;--size-900:4.2rem;}/*!sc*/
body{font-family:'Poppins',-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue, helvetica,Ubuntu,roboto,noto,segoe ui,arial,sans-serif;color:#37292C;background-attachment:fixed;background-color:#d9e4f5;background-image:linear-gradient(315deg,#d9e4f5 0%,#f5e3e6 74%);}/*!sc*/
h1,h2,h3,h4{line-height:1.125;}/*!sc*/
h1,h2,h3{font-weight:700;}/*!sc*/
h1{font-size:var(--size-800);}/*!sc*/
h2{font-size:var(--size-700);}/*!sc*/
h3{font-size:var(--size-600);}/*!sc*/
p{font-size:var(--size-400);}/*!sc*/
::selection{background:rgba(255,255,255,0.9);}/*!sc*/
p,li{max-width:none;}/*!sc*/
.gatsby-resp-image-wrapper{margin:0 !important;}/*!sc*/
data-styled.g13[id="sc-global-fRVSKQ1"]{content:"sc-global-fRVSKQ1,"}/*!sc*/
.crlnqS{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
.crlnqS main{margin-top:auto;margin-bottom:auto;}/*!sc*/
.crlnqS footer{margin-top:auto;}/*!sc*/
data-styled.g14[id="layout__LayoutWrapper-sc-91infx-0"]{content:"crlnqS,"}/*!sc*/
.buIBV{margin-right:0.6rem;margin-bottom:0.6rem;text-transform:uppercase;font-size:var(--size-300);}/*!sc*/
.buIBV a{position:relative;z-index:2;background-color:rgba(255,255,255,0.7);-webkit-text-decoration:none;text-decoration:none;color:inherit;padding:0.2rem 0.6rem;border:1px solid rgba(255,255,255,1);border-radius:4px;}/*!sc*/
.buIBV a:hover{background-color:rgba(255,255,255,0.9);}/*!sc*/
data-styled.g16[id="tags__Tag-ou2u60-0"]{content:"buIBV,"}/*!sc*/
.dTolhR{padding-top:var(--size-900);padding-bottom:var(--size-900);margin-left:auto;margin-right:auto;max-width:70ch;word-wrap:break-word;}/*!sc*/
data-styled.g39[id="post-template__PostWrapper-qllc2j-0"]{content:"dTolhR,"}/*!sc*/
.gFydoT{font-size:var(--size-700);}/*!sc*/
data-styled.g40[id="post-template__PostTitle-qllc2j-1"]{content:"gFydoT,"}/*!sc*/
.gZIegk{font-size:var(--size-400);padding-top:1rem;text-transform:uppercase;}/*!sc*/
data-styled.g41[id="post-template__PostDate-qllc2j-2"]{content:"gZIegk,"}/*!sc*/
.hUeIRc{padding-top:var(--size-800);}/*!sc*/
.hUeIRc > * + *{margin-top:var(--size-300);}/*!sc*/
.hUeIRc > p + p{margin-top:var(--size-700);}/*!sc*/
.hUeIRc * + h1,.hUeIRc * + h2,.hUeIRc * + h3{margin-top:var(--size-900);}/*!sc*/
.hUeIRc h1{font-size:var(--size-700);}/*!sc*/
.hUeIRc h2{font-size:var(--size-600);}/*!sc*/
.hUeIRc h3{font-size:var(--size-500);}/*!sc*/
.hUeIRc b,.hUeIRc strong{font-weight:600;}/*!sc*/
.hUeIRc a{color:inherit;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration-thickness:0.125rem;text-decoration-thickness:0.125rem;}/*!sc*/
.hUeIRc blockquote{padding-left:var(--size-400);border-left:5px solid;font-style:italic;}/*!sc*/
.hUeIRc code{font-family:'Source Sans Pro',monospace;overflow-x:auto;white-space:pre-wrap;}/*!sc*/
.hUeIRc pre{overflow-x:auto;white-space:pre-wrap;max-width:100%;}/*!sc*/
data-styled.g42[id="post-template__PostContent-qllc2j-3"]{content:"hUeIRc,"}/*!sc*/
.gEbVYe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:var(--size-900);}/*!sc*/
.gEbVYe > *{position:relative;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:1rem;padding-top:0.5rem;padding-bottom:0.5rem;border-radius:8px;border:1px solid rgba(255,255,255,0.5);background-color:rgba(255,255,255,0.3);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);margin:0.5rem;}/*!sc*/
.gEbVYe > *:hover{background-color:rgba(255,255,255,0.5);}/*!sc*/
.gEbVYe span{text-transform:uppercase;opacity:0.6;font-size:var(--size-400);padding-bottom:var(--size-500);}/*!sc*/
.gEbVYe a{color:inherit;-webkit-text-decoration:none;text-decoration:none;font-size:var(--size-400);text-transform:capitalize;}/*!sc*/
.gEbVYe a::after{content:'';position:absolute;left:0;right:0;top:0;bottom:0;}/*!sc*/
data-styled.g43[id="post-template__PostPagination-qllc2j-4"]{content:"gEbVYe,"}/*!sc*/
</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{all:inherit;bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro|Poppins:400,400i,700&amp;display=swap" rel="stylesheet"/><link rel="icon" href="/favicon-32x32.png?v=159e0719d0cdbde15ad0cca727d0588f" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=159e0719d0cdbde15ad0cca727d0588f"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=159e0719d0cdbde15ad0cca727d0588f"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=159e0719d0cdbde15ad0cca727d0588f"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=159e0719d0cdbde15ad0cca727d0588f"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=159e0719d0cdbde15ad0cca727d0588f"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=159e0719d0cdbde15ad0cca727d0588f"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=159e0719d0cdbde15ad0cca727d0588f"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=159e0719d0cdbde15ad0cca727d0588f"/><title data-react-helmet="true">React Virtual DOM 이해하기 - undefined</title><meta data-react-helmet="true" name="description" content="왜 가상돔이 효율적인지 그리고 리액트의 기본 구조가 어떻게 동작하는지에 대해 정리"/><meta data-react-helmet="true" property="og:title" content="React Virtual DOM 이해하기"/><meta data-react-helmet="true" property="og:description" content="왜 가상돔이 효율적인지 그리고 리액트의 기본 구조가 어떻게 동작하는지에 대해 정리"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:title" content="React Virtual DOM 이해하기"/><meta data-react-helmet="true" name="twitter:description" content="왜 가상돔이 효율적인지 그리고 리액트의 기본 구조가 어떻게 동작하는지에 대해 정리"/><link as="script" rel="preload" href="/webpack-runtime-b14854b007084d5c841e.js"/><link as="script" rel="preload" href="/framework-75297bfbd0c802ae014a.js"/><link as="script" rel="preload" href="/532a2f07-0853d91b3cc8ed2d6dca.js"/><link as="script" rel="preload" href="/app-e2faa8d6634a3de4c4cc.js"/><link as="script" rel="preload" href="/commons-1f2d9bc5339810383a35.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-js-7ab3b2ad9c58d66611a0.js"/><link as="fetch" rel="preload" href="/page-data/blog/understanding-react-virtual-dom/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2555585279.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2841359383.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3159585216.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout__LayoutWrapper-sc-91infx-0 crlnqS"><header class="Header__StyledHeader-sc-9tba1i-0 iwJsyB"><div class="container__Container-sc-19ytxnc-0 Header__HeaderWrapper-sc-9tba1i-1 kBFXRI dofBvM"><div class="Header__HeaderTitle-sc-9tba1i-2 ewCaOQ"><a href="/"></a></div><nav class="Header__StyledNav-sc-9tba1i-3 hxQiKU"><ul class="Header__StyledNavList-sc-9tba1i-4 eCeZTN"><li class="Header__StyledNavListItem-sc-9tba1i-5 fVeppt"><a href="/blog">Blog</a></li><li class="Header__StyledNavListItem-sc-9tba1i-5 fVeppt"><a href="/about">About</a></li><li class="Header__StyledNavListItem-sc-9tba1i-5 fVeppt"><a href="/resume">Resume</a></li></ul></nav></div></header><main><div class="container__Container-sc-19ytxnc-0 kBFXRI"><div class="post-template__PostWrapper-qllc2j-0 dTolhR"><article><h1 class="post-template__PostTitle-qllc2j-1 gFydoT">React Virtual DOM 이해하기</h1><span class="post-template__PostDate-qllc2j-2 gZIegk">January 17, 2021</span><section class="post-template__PostContent-qllc2j-3 hUeIRc"><p><em>본 포스팅은 우아한 테크 코스의 김민태님 강의를 듣고 정리하였습니다.</em></p>
<p>+왜 가상돔이 효율적인지에 대해</p>
<p>리액트는 현대 모던 웹 개발 프레임워크 중에 가장 유명하고, 가장 많이 쓰이는 도구이다. 흔히들 별다른 고민 없이 제일 많이 쓰이니까, 내 회사에서 사용하는 프레임워크라서 리액트를 사용하고 있지만, 리액트의 사상을 제대로 이해하고 나서 리액트를 사용하는 것과 그러지 않는 것 사이의 간극은 분명히 존재할 것이다.</p>
<p>우아한 테크 러닝 2주차 강의에서는 이러한 리액트의 사상을 이해하기 위해 핵심적인 부분만 직접 구현해보는 소중한 시간을 가질 수 있었다.</p>
<p>우선 리액트는 Virtual DOM이라는 구조를 가지고 real DOM과 비교하여 변화가 일어나는 부분만 업데이트를 치기 때문에 효율적이라는 설명은 다들 한번쯤 들어보았으리라 생각한다. 하지만 좀 더 자세히 왜 리액트의 가상 돔 구조가 효율적인지 우선 정리해보도록 하자.</p>
<p>DOM을 직접 조작하기 위해 노드를 더하거나 제거하게 되면 DOM이 변화할 때마다 브라우저는 배치(Layout) 작업을 수행해야 한다. DOM이 변화할 때마다 브라우저는 CSS를 다시 계산하고 레이아웃을 그리고 페이지를 다시 색칠해야 한다. 이 과정에 시간이 든다. <strong>화면을 다시 그리게 만드는 돔의 변화를 최소화하려는 고민이 추상화되어 리액트의 가상돔 아이디어로 발전하였다.</strong></p>
<h3>React Virtual DOM 이해하기</h3>
<p>리액트의 기본적인 구조는 아래와 같다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Hello?</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">React</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Redux</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">MobX</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Typescript</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>ReactDOM의 메서드 render에는 두 개의 인자가 들어가는데, 첫째 인자는 렌더링할 요소(element)이며 두번째 인자는 해당 요소가 들어갈 컨테이너이다. 그런데 첫째 줄에 <code class="language-text">React</code>를 임포트하고 있지만 코드 어느 부분에도 React를 활용하는 부분이 없어 보인다. 과연 그럴까?</p>
<p>위 코드를 바벨(<a href="https://babeljs.io/repl">https://babeljs.io/repl</a>)에 들어가서 트랜스컴파일 해보면 아래 코드로 변환된다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token string">"use strict"</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> _react <span class="token operator">=</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"react"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> _reactDom <span class="token operator">=</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"react-dom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>__esModule <span class="token operator">?</span> obj <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> obj <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
    <span class="token string">"div"</span><span class="token punctuation">,</span>
    <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"h1"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"Hello?"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
      <span class="token string">"ul"</span><span class="token punctuation">,</span>
      <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"React"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"Redux"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"MobX"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"Typescript"</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

_reactDom<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>App<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>JSX 문법이 createElement 함수로 변환되었고, 자식 태그는 부모 createElement의 세번째 인자로 트리구조로 들어가면서 계속 상위 createElement함수가 createElement함수를 품고 있는 형태이다. 즉, 각각의 <code class="language-text">JSX</code> 요소들은 <code class="language-text">createElement</code> 를 호출하기 위한 syntactic sugar일 뿐이다. createElement 함수는 첫번째 인자로 태그 요소를 받고, 두번째 인자로 props를 받으며, 세 번째 인자로 요소에 포함될 요소를 받는다.</p>
<p>이번에는 StudyList라는 컴포넌트를 따로 생성하고 JSX에 넣어주었다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">"react-dom"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">StudyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">React</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Redux</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">MobX</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">Typescript</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">Hello?</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">StudyList</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>이를 바벨로 트랜스파일링 한 결과는 아래와 같다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token string">"use strict"</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> _react <span class="token operator">=</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"react"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> _reactDom <span class="token operator">=</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"react-dom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>__esModule <span class="token operator">?</span> obj <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> obj <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">StudyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
    <span class="token string">"ul"</span><span class="token punctuation">,</span>
    <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"React"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"Redux"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"MobX"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"li"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"Typescript"</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
    <span class="token string">"div"</span><span class="token punctuation">,</span>
    <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"h1"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"Hello?"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>StudyList<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

_reactDom<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token comment">/*#__PURE__*/</span> _react<span class="token punctuation">.</span>default<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>App<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">App()</code> 함수에서 <code class="language-text">&lt;StudyList /&gt;</code> 를 변환하는 부분을 보면 태그가 들어간 다른 createElement 함수는 바벨에 의해 인자가 스트링 타입으로 변환되는 것과 달리 StudyList라는 함수를 그대로 전달해준다. 이는 바벨 상에서 React.createElement의 첫번째 인자가 대문자인 경우 함수로 넘기고, 소문자인 경우 문자열 태그라고 넘기는 정책을 가지고 있기 때문이다. <strong>따라서 리액트의 컴포넌트는 반드시 대문자로 시작한다.</strong></p>
<p>추가로 이번엔 (바닐라) 자바스크립트와 리액트를 비교해보자.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Parcel Sandbox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
      <span class="token selector">picture</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
        <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">img</span> <span class="token punctuation">{</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
        <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 15px #999<span class="token punctuation">;</span>
        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token selector">img.disabled</span> <span class="token punctuation">{</span>
        <span class="token property">opacity</span><span class="token punctuation">:</span> 0.3<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Employees of this month<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">var</span> $app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> <span class="token function-variable function">Avatar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> src <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://randomuser.me/api/portraits/men/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.jpg</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;picture>&lt;img src="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>src<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">" />&lt;/picture></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> avatarArr <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">75</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">"Gale"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">76</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">"Vincent"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">;</span>
      avatarArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">avatar</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>$app<span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token function">Avatar</span><span class="token punctuation">(</span>avatar<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      $app<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">img</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        img<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          img<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p>위 코드는 랜덤 유저들의 사진을 나열하는 단순한 웹 페이지이다. <a href="https://codesandbox.io/s/employees-of-this-month-vanilajs-uh7st?file=/index.html:0-1190">codesandbox</a></p>
<p>JSX 없는 리액트로 작성하면 아래 코드와 같다. <a href="https://codesandbox.io/s/employees-of-this-month-react-wxcye?file=/index.html:932-1016">codesandbox</a></p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Parcel Sandbox<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
      <span class="token selector">picture</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
        <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">img</span> <span class="token punctuation">{</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
        <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 15px #999<span class="token punctuation">;</span>
        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token selector">img.disabled</span> <span class="token punctuation">{</span>
        <span class="token property">opacity</span><span class="token punctuation">:</span> 0.3<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>
      <span class="token attr-name">crossorigin</span>
      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/react@17/umd/react.production.min.js<span class="token punctuation">"</span></span>
    <span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>
      <span class="token attr-name">crossorigin</span>
      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/react-dom@17/umd/react-dom.production.min.js<span class="token punctuation">"</span></span>
    <span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Employees of this month<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">var</span> $app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> h <span class="token operator">=</span> React<span class="token punctuation">.</span>createElement<span class="token punctuation">;</span>
      <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> <span class="token function-variable function">Avatar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> src <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://randomuser.me/api/portraits/men/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.jpg</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>
          <span class="token string">"picture"</span><span class="token punctuation">,</span>
          <span class="token keyword">null</span><span class="token punctuation">,</span>
          <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span> id<span class="token operator">:</span> params<span class="token punctuation">.</span>id<span class="token punctuation">,</span> onClick<span class="token operator">:</span> handleClick <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
        <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token function">h</span><span class="token punctuation">(</span>Avatar<span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">75</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">h</span><span class="token punctuation">(</span>Avatar<span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">76</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        $app
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>
<p>JSX가 자바스크립트와 html가 혼합된 형태라고 알고 있는 사람들이 많은데 이는 잘못된 생각이다. JSX는 자바스크립트이고 babel에 의해 React.createElement라는 함수로 트랜스파일된다. <code class="language-text">React.createElement</code>에 대한 공식 설명은 <a href="https://reactjs.org/docs/react-api.html#createelement">여기</a>에서 찾을 수 있다.</p></section></article><nav class="post-template__PostPagination-qllc2j-4 gEbVYe"><div><span>previous</span><a href="/blog/solving-codewars-algorithm-using-reduce-method/"> <!-- -->CodeWars 알고리즘 문제 풀기</a></div><div><span>next</span><a href="/blog/javascript-prototype/"> <!-- -->JavaScript 프로토타입</a></div></nav><div><span class="tags__Tag-ou2u60-0 buIBV"><a href="/tags/react">react</a></span><span class="tags__Tag-ou2u60-0 buIBV"><a href="/tags/virtual-dom">virtual-dom</a></span></div></div></div></main><footer class="footer__StyledFooter-lstpbi-0 dcrNki"><div class="container__Container-sc-19ytxnc-0 footer__FooterWrapper-lstpbi-2 kBFXRI eQMkXo"><ul class="SocialLinks__SocialLinkList-sc-1vpm7f4-0 foKMSa"></ul><p class="footer__FooterAttribution-lstpbi-1 eoQuMl">Hand-crafted with love by<!-- --> <a href="https://twitter.com/yinkakun">Yinka Adedire</a></p></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/understanding-react-virtual-dom/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-f27966bced5bf127d051.js"],"app":["/app-e2faa8d6634a3de4c4cc.js"],"component---src-pages-404-js":["/component---src-pages-404-js-d52a4e46c6697254827d.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-57c3dd4e3044cbf5091f.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-0f17e65a78c13fc87e53.js"],"component---src-templates-about-template-js":["/component---src-templates-about-template-js-7e6abc99289cf9975cf9.js"],"component---src-templates-contact-template-js":["/component---src-templates-contact-template-js-81cb8bb8f9d3284d0072.js"],"component---src-templates-index-template-js":["/component---src-templates-index-template-js-ba46355ec04e92150280.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js-7ab3b2ad9c58d66611a0.js"],"component---src-templates-resume-template-js":["/component---src-templates-resume-template-js-cd97398d8ee1c45152f0.js"],"component---src-templates-tags-template-js":["/component---src-templates-tags-template-js-72fc0e2584e432b4a53a.js"]};/*]]>*/</script><script src="/polyfill-f27966bced5bf127d051.js" nomodule=""></script><script src="/component---src-templates-post-template-js-7ab3b2ad9c58d66611a0.js" async=""></script><script src="/commons-1f2d9bc5339810383a35.js" async=""></script><script src="/app-e2faa8d6634a3de4c4cc.js" async=""></script><script src="/532a2f07-0853d91b3cc8ed2d6dca.js" async=""></script><script src="/framework-75297bfbd0c802ae014a.js" async=""></script><script src="/webpack-runtime-b14854b007084d5c841e.js" async=""></script></body></html>