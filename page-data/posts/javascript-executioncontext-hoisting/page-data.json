{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/javascript-executioncontext-hoisting/","webpackCompilationHash":"122541ee985fe42ab48c","result":{"data":{"markdownRemark":{"id":"a810f3b7-828d-5148-bc7a-87279f1be063","html":"<h1 id=\"실행-문맥\"><a href=\"#%EC%8B%A4%ED%96%89-%EB%AC%B8%EB%A7%A5\" aria-label=\"실행 문맥 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실행 문맥</h1>\n<h3 id=\"실행-문맥execution-context\"><a href=\"#%EC%8B%A4%ED%96%89-%EB%AC%B8%EB%A7%A5execution-context\" aria-label=\"실행 문맥execution context permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실행 문맥(Execution Context)?</h3>\n<p>간단히 말하면, 실행 문맥은 자바스크립트가 동작하는 환경이다.자바스크립트 변수와 같은 요소들을 저장하는 박스라고 보면 된다. 그리고 이 박스, 즉 실행 문맥 안에서 코드가 읽혀지고 실행된다.</p>\n<p>실행 문맥의 디폴트는 Global Execution Context(글로벌 실행 문맥)이다. 글로벌 실행 문맥에서는 함수 바깥에 있는 모든 코드가 실행된다. <a href=\"https://yeonhapark.github.io/posts/javascript-scope/\">지난 스코프 포스팅 참조</a> 글로벌 실행 문맥은 (브라우저에서 window인)글로벌 오브젝트를 생성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">lastName <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>lastName<span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>다시 말해두자. <b>글로벌 실행 문맥은 글로벌 영역에 있는 코드, 함수, 변수만을 실행한다.</b> 그렇다면 로컬 영역에 있는 코드, 즉 함수 내에 있는 코드는 어떡할까? 간단하다. 함수를 실행할 때마다 새로운 실행 컨텍스트가 그 위에 만들어진다.</p>\n<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 642px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 69.93769470404985%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUBAwT/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQT/2gAMAwEAAhADEAAAAXitrjzrJaHP/8QAGRABAAMBAQAAAAAAAAAAAAAAAQACEQMS/9oACAEBAAEFAorvLfMeJtaFT//EABgRAQEAAwAAAAAAAAAAAAAAAAEAAhEx/9oACAEDAQE/AcEOym7/xAAXEQEAAwAAAAAAAAAAAAAAAAABAhAx/9oACAECAQE/AZI5X//EAB0QAAECBwAAAAAAAAAAAAAAAAABAxAhMUFCgZH/2gAIAQEABj8CFm4ZbhVelz//xAAbEAADAAIDAAAAAAAAAAAAAAAAARExQSFhkf/aAAgBAQABPyFZ34d2B2avIWFZ5RNJtvln/9oADAMBAAIAAwAAABC4/wD/xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQMBAT8Q3YxJf//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxDEK//EABwQAQADAAIDAAAAAAAAAAAAAAEAETEhQVGRwf/aAAgBAQABPxBrXAp4e5wSi2HG9RCY3zzhCigI7Rl6fI5OL2J//9k='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"execution context\"\n        title=\"\"\n        src=\"/static/8c84a87fe798be5c20b5247efcc1f5a9/aa4ed/execution_context.jpg\"\n        srcset=\"/static/8c84a87fe798be5c20b5247efcc1f5a9/3bc27/execution_context.jpg 240w,\n/static/8c84a87fe798be5c20b5247efcc1f5a9/98431/execution_context.jpg 480w,\n/static/8c84a87fe798be5c20b5247efcc1f5a9/aa4ed/execution_context.jpg 642w\"\n        sizes=\"(max-width: 642px) 100vw, 642px\"\n      />\n  </span> (출처: <a href=\"https://medium.com/techracers/execution-context-basics-of-javascript-bb4ef8f1b845\">https://medium.com/techracers/execution-context-basics-of-javascript-bb4ef8f1b845</a>)</p>\n<p>글로벌 실행 문맥 위에 새로운 함수가 호출될 때마다 그 함수에 대한 실행 문맥이 생성되고, 함수가 더이상 실행되지 않으면 해당 실행 문맥은 제거된다. </p>\n<h3 id=\"execution-context\"><a href=\"#execution-context\" aria-label=\"execution context permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Execution Context?</h3>\n<p>실행 컨텍스트가 어떻게 동작하는 지에 대한 답변은 두 가지 국면으로 나눠서 설명할 수 있다.</p>\n<ul>\n<li>\n<p>Creation Phase(생성 국면) <br/>\nA) 변수 오브젝트의 생성 <br/>\nB) 스코프 체인의 형성 <br/>\nC) this 값의 정의</p>\n</li>\n<li>\n<p>Execution Phase(실행 국면)\n생성 국면에서 생성된 코드를 행 별로 실행</p>\n</li>\n</ul>\n<p>이번 포스트에서는 A 변수 오브젝트의 생성에 대해서 우선 정리한다.</p>\n<p>실행 문맥의 내부에서는 코드에서 사용되는 변수를 저장하고 관리한다. 이 때 실행 문맥 내부에서 변수 및 함수 선언을 저장하는 객체를 활성 객체(Activation Object) 또는 변수 객체(Variable Object)라고 부른다.</p>\n<ul>\n<li>\n<p>변수 객체(Variable Object) 생성될 떄 무슨 일이 일어날까\n아규먼트 오브젝트가 생성된다. 아규먼트 오브젝트는 함수에 전달되는 인수의 배열 집합이다.</p>\n<p>그 다음에 일어나는 일을 설명하기 전에 자바스크립트에서 함수를 만드는 다른 방식인 함수 선언문(Function Declarations)과 함수 표현식(Function Expressions)에 대해 간단히 짚고 넘어가자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 함수 선언문: 일반적인 함수 선언 형태</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">someFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// some logic</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//함수를 호출할 때</span>\n<span class=\"token function\">someFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//함수 표현식 : 변수값에 함수를 담아놓은 형태</span>\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">hiFunc</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// some another logic</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//호출할 때</span>\n<span class=\"token function\">hiFunc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>\n<p>함수 선언문(function declarations)이 작성될 떄 코드가 스캔된다. 그리고 각각의 함수에 대해 변수 객체 안에서 프로퍼티가 생성된다. (즉, 모든 함수는 실행 문맥 안에 저장된다. 함수가 실행도 되기 전에 말이다.) 이 프로퍼티는 함수를 가리킨다. </p>\n</li>\n<li>\n<p>변수 선언문(variable declarations)이 작성될 때 코드가 스캔된다. 변수 객체 내에 프로퍼티가 생성되며 그 값은 undefined로 규정된다.</p>\n</li>\n</ul>\n<p>이 두 가지 경우를 <strong>hoisting</strong>이라고 부른다. 즉, 함수/변수가 선언될 때 코드가 스캔되고 변수 객체 내에 프로퍼티가 생성된다. 그러나 함수와 변수의 호이스팅에는 차이가 존재한다. <b> 함수의 경우, 실행 국면이 채 시작되기 전에 이미 정의된 상태이다. 하지만 변수는 undefined된 상태이며, 실행 국면에 들어가면 그 때 정의될 것이다. </b></p>\n</li>\n</ul>\n<h1 id=\"hoisting\"><a href=\"#hoisting\" aria-label=\"hoisting permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HOISTING</h1>\n<p>Hoisting, 한국말로는 ‘끌어올리기’ 라는 뜻 즘으로 해석 할 수 있다. 함수 선언과 함께 코드가 스캔되기 때문에 함수나 변수가 밑에 위치하여도 코드 상 위에 위치해있는 호출구문에서 호출이 가능하다. </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// HOISTING</span>\n\n<span class=\"token function\">calcAge</span><span class=\"token punctuation\">(</span><span class=\"token number\">1999</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token keyword\">function</span> <span class=\"token function\">calcAge</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">year</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">2019</span> <span class=\"token operator\">-</span> year<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token comment\">// 함수의 선언과 함께 변수 객체에 저장됨</span>\n\n\n<span class=\"token function\">retirement</span><span class=\"token punctuation\">(</span><span class=\"token number\">1990</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 에러</span>\n<span class=\"token comment\">// Not a function declaration, but function expression</span>\n<span class=\"token comment\">// 호이스팅은 함수 선언에만 유효하다. </span>\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">retirement</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">year</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">65</span> <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2019</span> <span class=\"token operator\">-</span> year<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> </code></pre></div>\n<p>calcAge는 호이스팅이 되었지만, retirement는 호이스팅이 되지 않았다. 호이스팅은 함수 선언문에만 유효하기 때문이다.\nretirement는 anonymous function을 retirement라는 변수에 담아 실행한 함수이다. 이 경우는 함수 선언문(Function Declarations)이 아닌 함수 표현식(Function Expressions)에 해당한다. </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 변수 HOISTING</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// undefined</span>\n<span class=\"token comment\">// HOISTING은 되지만 값은 undefined이다. </span>\n\n<span class=\"token keyword\">var</span> age <span class=\"token operator\">=</span> <span class=\"token number\">23</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>변수를 선언하므로 호이스팅이 되지만, 값은 undefined이므로 undefined가 출력된다.    </p>","fields":{"slug":"/posts/javascript-executioncontext-hoisting/","tagSlugs":["/tag/hoisting/","/tag/execution-context/","/tag/javascript/"]},"frontmatter":{"date":"2019-07-20","description":"자바스크립트 코드가 실행되는 환경인 실행 컨텍스트와 호이스팅에 대해 정리","tags":["hoisting","execution context","javascript"],"title":"TIL - 자바스크립트 실행 컨텍스트(Execution Context)와 호이스팅(Hoisting) "}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/javascript-executioncontext-hoisting/"}}}