{"componentChunkName":"component---src-templates-post-template-js","path":"/blog/handling-date-and-time/","result":{"data":{"markdownRemark":{"excerpt":"Date object 시간을 나타내는 방법은 아주 다양하고 상대적이다. 이 글을 쓰고 있는 현재는 3월 7일 오후 11시지만, 3월 7일 23시라고 나타낼 수도 있다. 또 한국은 현재 오후 11시이지만 영국은 3월 7일 오후 2시이다. 나타내는 방식도 다양하다. 한국식으로는 202…","html":"<h1>Date object</h1>\n<p>시간을 나타내는 방법은 아주 다양하고 상대적이다. 이 글을 쓰고 있는 현재는 3월 7일 오후 11시지만, 3월 7일 23시라고 나타낼 수도 있다. 또 한국은 현재 오후 11시이지만 영국은 3월 7일 오후 2시이다. 나타내는 방식도 다양하다. 한국식으로는 2022/03/07이지만 미국에서는 03/07/2022라고 표현한다.</p>\n<p>절대적인 방식이 아니라 현재 시간에 상대적으로 과거의 시간을 나타낼 때 5년 전, 10초 전, 10분 전.. 으로 나타낼 수도 있다.</p>\n<p>자바스크립트의 <code class=\"language-text\">Date</code> 오브젝트는 플랫폼이나 기준에 관계없이 시간의 한 순간을 표현하게끔 사용될 수 있다. <code class=\"language-text\">Date</code> 오브젝트가 제공하는 다양한 메서드 기능을 활용하여 현재 날짜, 월, 혹은 연도만을 얻거나 사용자의 위치(Locale)에 기반한 타임 포맷을 얻을 수 있다.</p>\n<h2>현재시간 얻기</h2>\n<p><code class=\"language-text\">new</code> 생성자를 덧붙여 사용하면 새로운 <code class=\"language-text\">Date</code> 오브젝트를 반환한다. 아무런 인자를 넣지 않으면 현재 시간을 반환한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> d <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Mon Mar 07 2022 21:30:35 GMT+0900 (한국 표준시)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 7</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2022</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"-\"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span><span class=\"token function\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"-\"</span> <span class=\"token operator\">+</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '2022-3-7'</span></code></pre></div>\n<p><code class=\"language-text\">getDate</code>: <code class=\"language-text\">Date</code> 오브젝트의 일을 반환한다.<br>\n<code class=\"language-text\">getMonth</code>: <code class=\"language-text\">Date</code> 오브젝트의 월(0-11)을 반환한다. 1월인 경우 0을 반환하고, 3월인 경우 2를 반환한다.<br>\n<code class=\"language-text\">getFullYear</code>: <code class=\"language-text\">Date</code> 오브젝트의 년도를 반환한다.<br>\n<code class=\"language-text\">getDay</code>: <code class=\"language-text\">Date</code> 오브젝트의 요일(0-6)을 반환한다. 일요일로 시작한다. 월요일인 경우 1을 반환한다.<br>\n<code class=\"language-text\">getHours</code>: <code class=\"language-text\">Date</code> 오브젝트의 시(時)(0-23)를 반환한다.<br>\n<code class=\"language-text\">getMinutes</code>: <code class=\"language-text\">Date</code> 오브젝트의 분(0-59)을 반환한다.<br>\n<code class=\"language-text\">getSeconds</code>: <code class=\"language-text\">Date</code> 오브젝트의 초(0-59)를 반환한다.</p>\n<p>아래처럼함수로 호출하면 현재 시간과 날짜를 나타내는 문자열을 반환한다. <code class=\"language-text\">new Date().toString()</code> 과 동일하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'Mon Mar 07 2022 23:15:50 GMT+0900 (한국 표준시)'</span>\n<span class=\"token comment\">// new Date().toString()와 동일</span></code></pre></div>\n<h2>타임스탬프 얻기</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">getTime</code> 메서드를 사용하면 타임스탬프를 얻을 수 있다. 타임스탬프는 1970년 1월 1일을 기준으로 현재 시간까지의 밀리 초(millisecond)가 경과한 숫자이다. <code class=\"language-text\">Date.now()</code> 를 사용해도 동일한 결과를 얻을 수 있는데, 다만 이는 IE8 버전 미만에서는 서포트 되지 않는다.</p>\n<h2>문자열을 Date 오브젝트로 변환하기</h2>\n<p><code class=\"language-text\">Date</code> 오브젝트의 생성자는 다양하고 넓은 범위의 문자열을 아규먼트로 받아서 처리할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> date1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Wed, 27 July 2016 13:30:00\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> date2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Wed, 27 July 2016 07:45:00 UTC\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> date3 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"27 July 2016 13:30:00 UTC+05:45\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> strD <span class=\"token operator\">=</span> <span class=\"token function\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> date4 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>strD<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// date1 -> 2016-07-27T04:30:00.000Z</span>\n<span class=\"token comment\">// date2 -> 2016-07-27T07:45:00.000Z</span>\n<span class=\"token comment\">// date3 -> 2016-07-27T07:45:00.000Z</span>\n<span class=\"token comment\">// date4 -> 2022-03-07T14:45:51.000Z</span></code></pre></div>\n<p>문자열 값에 요일을 추가해주지 않아도 자바스크립트가 날짜와 다른 정보를 가지고 요일을 찾아낼 수 있다.</p>\n<p>ISO 8601 date format으로 문자열을 입력해도 문제없이 작동한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> str <span class=\"token operator\">=</span> <span class=\"token string\">\"2022-03-07T14:45:51.000Z\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> date5 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>date5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2022-03-07T14:45:51.000Z</span></code></pre></div>\n<p>여기서 <a href=\"https://ko.wikipedia.org/wiki/ISO_8601\">ISO 8601</a>은 은 날짜와 시간 데이터를 다룰 때 사용되는 국제표준이다.</p>\n<p>타임존에 대해서 정보를 주지 않으면 로컬 타임 기준으로 00:00:00 으로 설정되니 시간에 대해 명시하는 것을 잊지 말자.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> date1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"March 7, 2022\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Mon Mar 07 2022 00:00:00 GMT+0900 (한국 표준시)</span>\n<span class=\"token keyword\">const</span> date2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2022-3-7\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Mon Mar 07 2022 00:00:00 GMT+0900 (한국 표준시)</span></code></pre></div>\n<h2>포맷팅 하기</h2>\n<p>각 언어마다 다른 날짜/시간 표시형식에 대응하기 위해 <code class=\"language-text\">Intl</code> 객체를 활용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> koFormatter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intl<span class=\"token punctuation\">.</span>DateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ko-KR\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nkoFormatter<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '2022. 3. 7.'</span>\n\n<span class=\"token keyword\">const</span> enUSFormat <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intl<span class=\"token punctuation\">.</span>DateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"en-US\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nenUSFormat<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '3/7/2022'</span>\n\n<span class=\"token keyword\">const</span> koTwoDigitFormatter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intl<span class=\"token punctuation\">.</span>DateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ko-KR\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  year<span class=\"token operator\">:</span> <span class=\"token string\">\"2-digit\"</span><span class=\"token punctuation\">,</span>\n  month<span class=\"token operator\">:</span> <span class=\"token string\">\"2-digit\"</span><span class=\"token punctuation\">,</span>\n  day<span class=\"token operator\">:</span> <span class=\"token string\">\"2-digit\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nkoTwoDigitFormatter<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '22. 03. 07.'</span></code></pre></div>\n<p><code class=\"language-text\">format</code> 메서드를 사용할 때 인자에 옵션 값을 주어서 나타나는 서식을 제어할 수 있다. (<code class=\"language-text\">year</code> , <code class=\"language-text\">month</code> , <code class=\"language-text\">day</code> 의 디폴트 값은 <code class=\"language-text\">“numeric”</code>)</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> year<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span> month<span class=\"token operator\">:</span> <span class=\"token string\">\"long\"</span><span class=\"token punctuation\">,</span> day<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> enLongUSFormat <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intl<span class=\"token punctuation\">.</span>DateTimeFormat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"en-US\"</span><span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nenLongUSFormat<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'March 7, 2022'</span></code></pre></div>\n<p><code class=\"language-text\">Date</code> 오브젝트에서 지원하는 <code class=\"language-text\">toLocaleDateString</code> 메서드를 활용해도 동일한 기능을 구현할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">date<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleDateString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"en-US\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  year<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span>\n  month<span class=\"token operator\">:</span> <span class=\"token string\">\"long\"</span><span class=\"token punctuation\">,</span>\n  day<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'March 7, 2022'</span></code></pre></div>\n<p>비슷한 기능을 구현하기 위해 활용할 수 있는 다른 메서드들도 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> now <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nnow<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleTimeString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '오후 5:08:06'</span>\n\nnow<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '2022. 3. 8. 오후 5:08:06'</span>\n\ndate<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"en-US\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  month<span class=\"token operator\">:</span> <span class=\"token string\">\"long\"</span><span class=\"token punctuation\">,</span>\n  year<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span>\n  day<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span>\n  hour<span class=\"token operator\">:</span> <span class=\"token string\">\"2-digit\"</span><span class=\"token punctuation\">,</span>\n  minute<span class=\"token operator\">:</span> <span class=\"token string\">\"2-digit\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'March 7, 2022, 12:00 AM'</span>\n\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleDateString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ko-KR\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  year<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span>\n  month<span class=\"token operator\">:</span> <span class=\"token string\">\"long\"</span><span class=\"token punctuation\">,</span>\n  day<span class=\"token operator\">:</span> <span class=\"token string\">\"numeric\"</span><span class=\"token punctuation\">,</span>\n  hour<span class=\"token operator\">:</span> <span class=\"token string\">\"2-digit\"</span><span class=\"token punctuation\">,</span>\n  minute<span class=\"token operator\">:</span> <span class=\"token string\">\"2-digit\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">\"2022년 3월 8일 오후 05:06\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>날짜 계산하기</h2>\n<p><code class=\"language-text\">setDate</code> , <code class=\"language-text\">setHours</code> , <code class=\"language-text\">setMonth</code>, <code class=\"language-text\">setMinutes</code> 등의 메서드를 지원하여 현재 시간 기준으로 시간 요소들을 설정할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> myDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myDate<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '2022. 3. 8. 오후 5:40:12'</span>\n<span class=\"token keyword\">const</span> nextSevenDay <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span>\nmyDate<span class=\"token punctuation\">.</span><span class=\"token function\">setDate</span><span class=\"token punctuation\">(</span>nextSevenDay<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> newDate <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>newDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '2022. 3. 15. 오후 5:40:12'</span></code></pre></div>\n<p><code class=\"language-text\">getDate</code> 로 현재 일(8일) 을 얻고 여기다 일주일치 7일을 더하여 다음주 시간으로 설정하는 방법이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">myDate<span class=\"token punctuation\">.</span><span class=\"token function\">setHours</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyDate<span class=\"token punctuation\">.</span><span class=\"token function\">setMinutes</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyDate<span class=\"token punctuation\">.</span><span class=\"token function\">setSeconds</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyDate<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '2022. 3. 15. 오전 12:00:00'</span>\n<span class=\"token keyword\">const</span> timeStamp <span class=\"token operator\">=</span> myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 타임스탬프 리턴</span>\nmyDate<span class=\"token punctuation\">.</span><span class=\"token function\">setTime</span><span class=\"token punctuation\">(</span>timeStamp <span class=\"token operator\">+</span> <span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 한시간 후로 설정</span>\nmyDate<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '2022. 3. 15. 오전 1:00:00'</span></code></pre></div>\n<p>시간을 리셋할 때 위의 방식으로 0시, 0분, 0초로 설정할 수 있다.</p>\n<p>좀 더 정확하고 정교한 시간 셋팅을 하려면 <code class=\"language-text\">setTime</code> 메서드를 활용해서 밀리세컨드 단위로 시간을 셋팅하면 된다.</p>\n<h2>시간 비교하기</h2>\n<p>비교연산자를 활용해서 좀 더 이른 시간대와 느린 시간을 판별할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> date1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"17 July, 2022\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> date2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"24 Feb, 2000\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>date1 <span class=\"token operator\">></span> date2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>시간의 동등함을 판별하는 것은 좀 더 까다로운데, <code class=\"language-text\">Date</code> 오브젝트에 들어가는 포맷에 따라 겉으로는 같아 보이지만 실제로는 다른 결과가 나올 수도 있기 때문이다. 아래 예를 통해서 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> date1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"17 July, 2022\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> date2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2022-07-17\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>date1 <span class=\"token operator\">===</span> date2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">console.log</code>의 결과는 <code class=\"language-text\">true</code> 일까? <code class=\"language-text\">false</code> 일까?</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> date1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"17 July, 2022\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> date2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2022-07-17\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>date1 <span class=\"token operator\">===</span> date2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// false</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>date1<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'Sun Jul 17 2022 00:00:00 GMT+0900 (한국 표준시)'</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>date2<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'Sun Jul 17 2022 09:00:00 GMT+0900 (한국 표준시)'</span></code></pre></div>\n<p>답은 <code class=\"language-text\">false</code> 이다. <code class=\"language-text\">date2</code>는 ISO 포맷의 데이터를 사용했기 때문에 로컬 기준의 UTC를 사용할 수 있게 된다. <code class=\"language-text\">date1</code> 은 로컬타임에 대한 기준이 없기 때문에 00:00:00으로 설정된다.</p>\n<p>시점 A와 시점B 사이의 차이를 계산하려면 <code class=\"language-text\">getTime</code> 타임스탬프를 활용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> myDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> dateFromAPI <span class=\"token operator\">=</span> <span class=\"token string\">\"2022-03-04T09:00:00Z\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> diff <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>myDate<span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span>dateFromAPI<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>diff <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 4, 즉 4일의 차이</span></code></pre></div>\n<br>\n트위터나 링크드인 같은 플랫폼을 보면 포스트 제목 옆에 _1 day ago, 12분 전_ .. 등 상대적으로 과거의 시간을 나타낸다.\n<p align=\"center\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/f81d0ac35046885ac7b829693aab7081/afd7b/twitter.webp\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 49.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRlYAAABXRUJQVlA4IEoAAABQAwCdASoUAAoAPtFUo0uoJKMhsAgBABoJaQAAXe+EEKd6gAD+9tJceS7QWbVGcPuJ8BtkwTmkB+bKoupplN8xLtWY71O7cUAAAA=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"twitter-capture\" title=\"twitter-capture\" src=\"/static/f81d0ac35046885ac7b829693aab7081/8aab1/twitter.webp\" srcset=\"/static/f81d0ac35046885ac7b829693aab7081/81b7c/twitter.webp 158w,\n/static/f81d0ac35046885ac7b829693aab7081/6ea66/twitter.webp 315w,\n/static/f81d0ac35046885ac7b829693aab7081/8aab1/twitter.webp 630w,\n/static/f81d0ac35046885ac7b829693aab7081/a70f5/twitter.webp 945w,\n/static/f81d0ac35046885ac7b829693aab7081/afd7b/twitter.webp 1192w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span></p>\n<p>비슷하게 피드를 업로드하고 현재시간으로부터 얼마나 시간이 경과했는지 나타내고 싶을 때는 아래의 코드를 참조하자. 다만, 실제 중요 서비스를 다룰 때는 <code class=\"language-text\">luxon</code> , <code class=\"language-text\">date-fns</code>, <code class=\"language-text\">dayjs</code> 같은 라이브러리를 사용하는 게 신뢰도와 안전성 면에서 훨씬 권장된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token constant\">DATE_UNITS</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">\"day\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">24</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">\"hour\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">\"minute\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span> <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">\"second\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getTimeAgo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> elapsed <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> timestamp<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> rtf <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Intl<span class=\"token punctuation\">.</span>RelativeTimeFormat</span><span class=\"token punctuation\">(</span>navigator<span class=\"token punctuation\">.</span>language<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 브라우저의 언어 설정을 나타낸다. 한국의 경우 'ko-KR'</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>unit<span class=\"token punctuation\">,</span> time<span class=\"token punctuation\">]</span> <span class=\"token keyword\">of</span> <span class=\"token constant\">DATE_UNITS</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>elapsed <span class=\"token operator\">></span> time <span class=\"token operator\">||</span> unit <span class=\"token operator\">===</span> <span class=\"token string\">\"second\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> rtf<span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>elapsed <span class=\"token operator\">/</span> time<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> unit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> timestamp<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>리마인드</h2>\n<p>👉 타임스탬프를 얻으려면 <code class=\"language-text\">getTime</code> 메서드를 활용하자<br>\n👉 문자열 타입의 데이터를 <code class=\"language-text\">Date</code> 오브젝트로 변환할 때 로컬 시간을 빠뜨리는 실수를 하지 말자(아니면 ISO 형식으로 값을 넣어주자)<br>\n👉 상용화되는 서비스에서 날짜와 시간을 조작할 때는 Date 오브젝트를 직접 사용하기보다 <code class=\"language-text\">luxon</code> , <code class=\"language-text\">date-fns</code> 같은 라이브러리를 사용해야 에러가 발생할 여지를 줄일 수 있다.(<code class=\"language-text\">moment.js</code> 는 상당히 deprecated되었으므로 사용을 추천하지 않는다.)</p>\n<p>참고한 글<br>\n<a href=\"https://www.toptal.com/software/definitive-guide-to-datetime-manipulation#:~:text=Getting%20the%20Current%20Time%20Stamp,passed%20since%20January%201%2C%201970\">https://www.toptal.com/software/definitive-guide-to-datetime-manipulation#:~:text=Getting the Current Time Stamp,passed since January 1%2C 1970</a>.<br>\n<a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Date\">https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Date</a></p>","frontmatter":{"title":"자바스크립트 Date 오브젝트를 활용해서 시간과 날짜 개념 표현하기","tags":["javascript","date"],"date":"March 09, 2022","description":null}},"prev":{"frontmatter":{"title":"encodeURI VS encodeURIComponent"},"fields":{"slug":"/blog/encodeURI-vs-encodeURIComponent/"}},"next":{"frontmatter":{"title":"CSS Gradients에 대해"},"fields":{"slug":"/blog/css-gradients/"}}},"pageContext":{"slug":"/blog/handling-date-and-time/","prevSlug":"/blog/encodeURI-vs-encodeURIComponent/","nextSlug":"/blog/css-gradients/"}},"staticQueryHashes":["2555585279","2841359383","3159585216"]}